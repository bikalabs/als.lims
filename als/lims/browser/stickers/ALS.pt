<tal:sticker define="
    item              python:view.current_item;
    ar                python:item[0];
    sample            python:item[1];
    part              python:item[2];
    client            python:sample.aq_parent;
    ar_id             python:ar.getId() if ar else '';
    sid               python:sample.getId() if sample else '';
    csid              python:sample.getClientSampleID() if hasattr(sample, 'getClientSampleID') else '';
    profile           python:ar.getProfiles()[0].Title() if ar and ar.getProfiles() else '';
    date              python:ar.getDateSampled();
    date              python:date if date else ar.getDateReceived();
    date              python:date if date else ar.created();">

    <!-- Barcode -->
    <div class="barcode"
         tal:attributes="data-id sid;"
         data-code="code39"
         data-barHeight="14"
         data-output="svg">
    </div>

    <div class="analysisrequest-info">
        <table cellpadding="0" cellspacing="0" border="0">
            <tr>
                <!-- Bika Sample ID -->
                <td class="sample-id large-font" tal:content="sid"/>
            </tr>
            <tr>
                <!-- Client Name -->
                <td
                    class="client-title small-font"
                    tal:content="python:client.Title()"/>
            </tr>
            <tr>
                <!-- Client Sample ID -->
                <td class="client-sample-id large-font" tal:content="csid"/>
            </tr>
            <tr>
                <!-- Profile -->
                <td class="profile large-font" tal:content="profile"/>
            </tr>
            <tr>
                <!-- Date Sampled (or recieved, or created, if none) -->
                <td
                    class="date-sampled small-font"
                    tal:content="python:view.ulocalized_time(date)"/>
            </tr>
        </table>
    </div>

</tal:sticker>
